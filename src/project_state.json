{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 23,
  "summary": "Website for collecting and displaying written memories of a friend named Rapunzel, with visitors able to submit their own memories including uploading/attaching pictures and videos, protected by a simple front-end 4-digit password gate (5699) and showing a welcome page after unlocking; additionally includes a bottom-right corner helper bot named “Piddu” (replacing Tingi) which is a simulated/deterministic chat-style bot with a new UI look and no Google Custom Search or backend search/summarizing functionality.",
  "architectural_notes": [
    "Password protection requested is front-end only (not secure access control); it hides content in the UI until the correct 4-digit code is entered.",
    "Image selection should use standard browser file picker (<input type=\"file\">); browsers do not support deeper device-level storage permissions.",
    "Video uploads should use standard browser file picker (<input type=\"file\" accept=\"video/*\">) and store the selected video as a data URL; videos should not autoplay and should only play when the memory card is opened.",
    "Piddu bot replaces Tingi: bottom-right widget with a new UI look; simulated/deterministic responses only (no real LLM integration) and no Google Custom Search / no backend search or summarizing."
  ],
  "known_issues": [],
  "isFixRequest": false,
  "imageRequirements": "## Required Images\n- Rounded friendly mascot icon illustration (piddu-icon.dim_128x128.png)",
  "existing_features": [
    {
      "id": "feature-create-a-public-website-focused-on-written-memories-of-a-friend-named-rapunzel-with-a-landing-view-that-introduces-the-site-and-shows-a-readable-list-of-submitted-memories",
      "title": "Create a public website focused on written memories of a friend named “Rapunzel”, with a landing view that introduces the site and shows a readable list of submitted memories.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-public-submission-flow-for-visitors-to-write-and-submit-new-memories-from-the-ui-without-requiring-login-include-form-validation-required-memory-text-reasonable-max-length-and-clear-success-error-messaging-in-english",
      "title": "Add a public submission flow for visitors to write and submit new memories from the UI, without requiring login. Include form validation (required memory text, reasonable max length) and clear success/error messaging in English.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-add-basic-content-presentation-features-for-the-memories-list-show-newest-first-ordering-and-display-the-created-date-time-in-a-human-friendly-format-ensure-long-memories-wrap-and-remain-readable",
      "title": "Add basic content presentation features for the memories list: show newest-first ordering and display the created date/time in a human-friendly format; ensure long memories wrap and remain readable.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-coherent-creative-visual-theme-suitable-for-a-warm-memory-book-site-distinct-color-palette-typography-spacing-and-card-list-styling-and-use-it-consistently-across-the-landing-list-and-submission-form-do-not-use-a-blue-purple-dominant-palette",
      "title": "Apply a coherent, creative visual theme suitable for a warm “memory book” site (distinct color palette, typography, spacing, and card/list styling) and use it consistently across the landing, list, and submission form. Do not use a blue/purple dominant palette.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-add-generated-static-images-and-use-them-in-the-ui-served-from-frontend-public-assets-generated-including-a-hero-banner-image-for-the-landing-section-and-a-small-decorative-icon-used-in-the-header-or-memory-cards",
      "title": "Add generated static images and use them in the UI (served from frontend/public/assets/generated), including a hero banner image for the landing section and a small decorative icon used in the header or memory cards.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-memory-submission-ui-to-allow-visitors-to-optionally-add-a-picture-url-and-a-video-url-when-submitting-a-memory-with-clear-english-labels-and-validation",
      "title": "Update the memory submission UI to allow visitors to optionally add a picture URL and a video URL when submitting a memory, with clear English labels and validation.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-memories-list-ui-to-display-attached-pictures-and-videos-on-each-memory-card-when-present-in-a-readable-layout-that-works-on-mobile-and-desktop",
      "title": "Update the memories list UI to display attached pictures and videos on each memory card when present, in a readable layout that works on mobile and desktop.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-front-end-password-gate-that-blocks-all-website-content-until-the-visitor-enters-the-exact-4-digit-code-5699",
      "title": "Add a front-end password gate that blocks all website content until the visitor enters the exact 4-digit code \"5699\".",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-persist-the-unlocked-state-in-the-browser-so-a-visitor-who-has-already-entered-5699-does-not-have-to-re-enter-it-on-refresh-during-the-same-browser-session-and-provide-a-lock-action-to-re-hide-the-site-content",
      "title": "Persist the unlocked state in the browser so a visitor who has already entered \"5699\" does not have to re-enter it on refresh during the same browser session, and provide a \"Lock\" action to re-hide the site content.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-password-gate-ui-matches-the-existing-warm-visual-theme-tailwind-shadcn-components-and-uses-clear-accessible-english-labels-and-helper-text",
      "title": "Ensure the password gate UI matches the existing warm visual theme (Tailwind + shadcn components) and uses clear, accessible English labels and helper text.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-optional-image-upload-control-to-the-memory-submission-form-that-lets-visitors-pick-an-image-from-their-device-using-a-standard-browser-file-picker-and-submit-it-with-the-memory",
      "title": "Add an optional image upload control to the memory submission form that lets visitors pick an image from their device using a standard browser file picker, and submit it with the memory.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-uploaded-images-submitted-as-data-urls-render-correctly-in-the-memories-list-ui",
      "title": "Ensure uploaded images submitted as data URLs render correctly in the memories list UI.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-welcome-page-that-is-shown-immediately-after-the-visitor-successfully-unlocks-the-site-after-the-4-digit-code-screen-and-before-showing-the-main-memories-experience",
      "title": "Add a welcome page that is shown immediately after the visitor successfully unlocks the site (after the 4-digit code screen) and before showing the main memories experience.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-persist-welcome-page-completion-for-the-current-browser-session-so-the-welcome-page-is-not-repeatedly-shown-after-it-has-been-dismissed-unless-the-visitor-locks-the-site-again",
      "title": "Persist welcome-page completion for the current browser session so the welcome page is not repeatedly shown after it has been dismissed, unless the visitor locks the site again.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-optional-video-file-picker-to-the-memory-submission-form-that-lets-visitors-select-a-video-from-their-device-and-submit-it-as-a-data-url-stored-in-the-existing-memory-videourl-field",
      "title": "Add an optional video file picker to the memory submission form that lets visitors select a video from their device and submit it as a data URL stored in the existing memory videoUrl field.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-add-client-side-validation-and-ux-for-the-uploaded-video-file-size-type-checks-remove-action-and-a-lightweight-selection-summary-consistent-with-the-existing-image-upload-ux",
      "title": "Add client-side validation and UX for the uploaded video file (size/type checks, remove action, and a lightweight selection summary) consistent with the existing image upload UX.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-change-memory-card-video-behavior-so-videos-are-only-playable-when-the-visitor-explicitly-opens-them-rather-than-being-immediately-playable-inline-in-the-card",
      "title": "Change memory card video behavior so videos are only playable when the visitor explicitly opens them, rather than being immediately playable inline in the card.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-floating-bottom-right-corner-helper-widget-named-tingi-that-is-visible-on-the-main-memories-experience-i-e-after-the-visitor-passes-the-4-digit-password-gate-and-dismisses-the-welcome-page-the-widget-must-use-a-small-icon-open-close-on-click-and-match-the-site-s-existing-warm-tailwind-shadcn-visual-theme",
      "title": "Add a floating bottom-right corner helper widget named “Tingi” that is visible on the main memories experience (i.e., after the visitor passes the 4-digit password gate and dismisses the welcome page). The widget must use a small icon, open/close on click, and match the site’s existing warm Tailwind + shadcn visual theme.",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-simple-chat-like-interaction-ui-for-tingi-where-the-visitor-can-type-a-question-and-submit-it-see-a-loading-state-and-receive-a-short-funny-response-since-no-llms-are-available-generate-humor-via-deterministic-templates-e-g-playful-one-liners-combined-with-information-extracted-from-google-results",
      "title": "Implement a simple chat-like interaction UI for Tingi where the visitor can type a question and submit it, see a loading state, and receive a short “funny” response. Since no LLMs are available, generate humor via deterministic templates (e.g., playful one-liners) combined with information extracted from Google results.",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-integrate-tingi-with-the-google-custom-search-json-api-to-fetch-information-for-a-user-query-and-use-it-to-produce-the-short-funny-summary-the-implementation-must-call-the-google-custom-search-endpoint-from-the-frontend-and-support-configuring-the-required-google-api-key-and-custom-search-engine-id-cx-from-the-ui-stored-locally-in-the-browser",
      "title": "Integrate Tingi with the Google Custom Search JSON API to fetch information for a user query and use it to produce the short funny summary. The implementation must call the Google Custom Search endpoint from the frontend and support configuring the required Google API key and Custom Search Engine ID (cx) from the UI (stored locally in the browser).",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-add-generated-static-image-assets-for-tingi-s-icon-and-render-it-in-the-tingi-widget",
      "title": "Add generated static image assets for Tingi’s icon and render it in the Tingi widget.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-google-api-key-and-search-engine-id-cx-configuration-ui-from-the-tingi-widget-so-visitors-can-no-longer-enter-or-save-these-values-in-the-browser",
      "title": "Remove the Google API Key and Search Engine ID (cx) configuration UI from the Tingi widget so visitors can no longer enter or save these values in the browser.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-update-tingi-to-use-hard-coded-google-custom-search-credentials-including-hard-coding-the-provided-google-api-key-aizasybuccr7sqcfn00ltgomjgqjqbvl42guj7i-in-the-frontend-code-path-used-to-perform-searches",
      "title": "Update Tingi to use hard-coded Google Custom Search credentials, including hard-coding the provided Google API key \"AIzaSyBUCcr7sqCfN00LtGOmJgQjqBvL42gUj7I\" in the frontend code path used to perform searches.",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-configure-tingi-s-google-custom-search-requests-so-the-information-source-is-google-com-i-e-searches-are-constrained-to-google-com-while-still-using-the-google-custom-search-json-api-endpoint",
      "title": "Configure Tingi’s Google Custom Search requests so the information source is google.com (i.e., searches are constrained to google.com) while still using the Google Custom Search JSON API endpoint.",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-update-tingi-s-search-implementation-to-use-chrome-com-as-the-information-source-replacing-the-current-google-com-only-behavior-and-remove-all-google-com-specific-restrictions-filters-from-the-search-request-and-result-processing",
      "title": "Update Tingi’s search implementation to use chrome.com as the information source (replacing the current google.com-only behavior), and remove all google.com-specific restrictions/filters from the search request and result processing.",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-update-tingi-s-user-facing-text-and-error-messaging-to-reflect-the-chrome-com-information-source-instead-of-google-google-com-including-the-first-open-welcome-message-the-empty-state-prompt-and-any-special-no-results-due-to-site-restriction-messaging",
      "title": "Update Tingi’s user-facing text and error messaging to reflect the chrome.com information source instead of Google/google.com, including the first-open welcome message, the empty-state prompt, and any special “no results due to site restriction” messaging.",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-any-domain-source-restriction-from-tingi-s-google-custom-search-requests-so-searches-are-not-constrained-to-chrome-com-or-google-com-i-e-do-not-set-sitesearch-sitesearchfilter-or-any-equivalent-restriction",
      "title": "Remove any domain/source restriction from Tingi’s Google Custom Search requests so searches are not constrained to chrome.com or google.com (i.e., do not set siteSearch/siteSearchFilter or any equivalent restriction).",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-keep-tingi-s-google-custom-search-credentials-hard-coded-exactly-as-previously-provided-api-key-and-cx-and-do-not-add-any-ui-that-allows-visitors-to-change-or-store-them",
      "title": "Keep Tingi’s Google Custom Search credentials hard-coded exactly as previously provided (API key and CX) and do not add any UI that allows visitors to change or store them.",
      "reqIds": [
        "REQ-30"
      ],
      "version": 1
    },
    {
      "id": "feature-update-tingi-s-user-facing-text-and-error-messaging-to-remove-chrome-com-and-google-com-references-now-that-searches-are-not-restricted-to-any-single-source",
      "title": "Update Tingi’s user-facing text and error messaging to remove chrome.com and google.com references now that searches are not restricted to any single source.",
      "reqIds": [
        "REQ-31"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-tingiwidget-frontend-to-call-the-new-motoko-backend-api-for-searches-and-stop-calling-google-custom-search-directly-from-the-browser",
      "title": "Update the TingiWidget frontend to call the new Motoko backend API for searches and stop calling Google Custom Search directly from the browser.",
      "reqIds": [
        "REQ-34"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-no-ui-is-added-that-allows-visitors-to-view-edit-or-store-google-api-credentials-credentials-must-remain-hard-coded-and-non-configurable",
      "title": "Ensure no UI is added that allows visitors to view, edit, or store Google API credentials; credentials must remain hard-coded and non-configurable.",
      "reqIds": [
        "REQ-35"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-existing-tingi-search-assistant-experience-and-replace-it-with-a-new-bottom-right-floating-helper-widget-named-piddu-that-simulates-a-chatgpt-style-chat-experience-using-deterministic-scripted-behavior-only-with-a-fully-new-ui-look",
      "title": "Remove the existing Tingi search assistant experience and replace it with a new bottom-right floating helper widget named “Piddu” that simulates a ChatGPT-style chat experience using deterministic/scripted behavior only, with a fully new UI look.",
      "reqIds": [
        "REQ-36"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-piddu-s-responses-entirely-on-the-frontend-using-deterministic-logic-no-llm-calls-no-external-apis-and-no-backend-calls",
      "title": "Implement Piddu’s responses entirely on the frontend using deterministic logic (no LLM calls, no external APIs, and no backend calls).",
      "reqIds": [
        "REQ-37"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-tingi-search-wiring-from-the-frontend-including-the-react-query-mutation-hook-and-any-unused-tingi-configuration-search-helper-modules-so-the-build-contains-no-active-tingi-search-flow",
      "title": "Remove Tingi search wiring from the frontend, including the React Query mutation hook and any unused Tingi configuration/search helper modules, so the build contains no active Tingi search flow.",
      "reqIds": [
        "REQ-38"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-app-shell-to-render-the-new-piddu-widget-instead-of-tingiwidget-only-in-the-main-memories-experience-after-the-visitor-unlocks-with-the-4-digit-code-and-dismisses-the-welcome-page",
      "title": "Update the app shell to render the new Piddu widget (instead of TingiWidget) only in the main memories experience (after the visitor unlocks with the 4-digit code and dismisses the welcome page).",
      "reqIds": [
        "REQ-40"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Create a website containing written memories of a friend named Rapunzel",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Allow visitors to write/submit their own memories (public submissions)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Implement backend data storage for memories so that submissions persist and can be retrieved later. Each memory must store: a unique id, the memory text, a created timestamp, and optional author name (free text).",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Add support for pictures and videos in memories (e.g., additional fields/columns for media attachments and displaying them on the site)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Extend the backend Memory data model to support optional picture and video attachments by adding optional fields for an image URL and a video URL, and update backend APIs so submitted and retrieved memories include these fields.",
      "reqIds": [
        "REQ-7"
      ],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Add a simple front-end 4-digit password gate (code: 5699) that users must enter before accessing the website content",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Allow visitors to upload an image from their device via a standard browser file picker when submitting a memory (instead of only providing an image URL).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Add a welcome page shown immediately after the lock screen unlock, containing text, images, and buttons, before entering the main memories experience.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Add optional video upload via standard browser file picker on the memory submission form; store uploaded video as a data URL; only play videos when a memory card is opened.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-21",
      "summary": "Remove Tingi and replace it with a bottom-right corner helper bot named “Piddu” that simulates a ChatGPT-style experience using deterministic/scripted behavior only (no real LLM integration), with a fully new UI look and no search/summarizing backend functionality.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-25",
      "summary": "Remove the Tingi Google Custom Search backend API and HTTP outcall logic from the Motoko canister so the backend provides no search/summarizing functionality for the helper bot.",
      "reqIds": [
        "REQ-39"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Memories website for Rapunzel with public visitor submissions",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}